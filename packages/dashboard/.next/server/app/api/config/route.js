"use strict";(()=>{var e={};e.id=729,e.ids=[729],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},8229:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var o={};r.r(o),r.d(o,{GET:()=>d,PUT:()=>u});var a=r(2711),s=r(8380),n=r(3023),i=r(5098),c=r(2235);async function d(e){let t=e.nextUrl.searchParams.get("path");if(!t)return i.NextResponse.json({error:"Path parameter is required"},{status:400});let r=await (0,c.iX)(t);return r?i.NextResponse.json({config:r}):i.NextResponse.json({config:null})}async function u(e){try{let{path:t,config:r}=await e.json();if(!t)return i.NextResponse.json({error:"Path is required"},{status:400});if(!r)return i.NextResponse.json({error:"Config is required"},{status:400});return await (0,c.BA)(t,r),i.NextResponse.json({success:!0})}catch(e){return console.error("Failed to save config:",e),i.NextResponse.json({error:"Failed to save configuration"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/config/route",pathname:"/api/config",filename:"route",bundlePath:"app/api/config/route"},resolvedPagePath:"/Users/assistant/Github/kodex/packages/dashboard/app/api/config/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:f}=l,h="/api/config/route";function x(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}},2235:(e,t,r)=>{r.d(t,{BA:()=>u,OC:()=>c,iX:()=>d});var o=r(2048),a=r(5315),s=r.n(a),n=r(5156);let i={scan:{include:["src/**/*.{ts,tsx,js,jsx}"],exclude:["**/*.test.*","**/*.spec.*","**/node_modules/**"],framework:"auto"},docs:{outputDir:".kodex/docs",format:"both",topics:["authentication","navigation","data","settings","errors"]},llm:{provider:"anthropic",model:"claude-3-5-haiku-20241022"}};async function c(e){try{if(!(await o.promises.stat(e)).isDirectory())return{valid:!1,error:"Path is not a directory"};let t=s().join(e,"kodex.config.yaml");try{return await o.promises.access(t),{valid:!0,hasConfig:!0}}catch{return{valid:!0,hasConfig:!1}}}catch(e){return{valid:!1,error:"Directory does not exist"}}}async function d(e){let t=s().join(e,"kodex.config.yaml");try{let e=await o.promises.readFile(t,"utf-8"),r=n.ZP.load(e);return{name:r.name||"My Product",version:r.version||"1.0.0",scan:{...i.scan,...r.scan},docs:{...i.docs,...r.docs},llm:{...i.llm,...r.llm},dashboard:r.dashboard}}catch{return null}}async function u(e,t){let r=s().join(e,"kodex.config.yaml"),a={name:t.name,version:t.version,scan:{include:t.scan.include,exclude:t.scan.exclude,framework:t.scan.framework,...t.scan.agentContext?{agentContext:t.scan.agentContext}:{}},docs:{outputDir:t.docs.outputDir,format:t.docs.format,topics:t.docs.topics},llm:{provider:t.llm.provider,model:t.llm.model,...t.llm.apiKey?{apiKey:t.llm.apiKey}:{}},...t.dashboard?{dashboard:t.dashboard}:{}},i=n.ZP.dump(a,{indent:2,lineWidth:100,quotingType:'"'}),c=s().join(e,".kodex");try{await o.promises.mkdir(c,{recursive:!0})}catch{}await o.promises.writeFile(r,i,"utf-8")}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[991,189,156],()=>r(8229));module.exports=o})();